{"tasks":[{"environment":{},"displayName":"Use .NET Core sdk 2.2.106","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"packageType":"sdk","version":"2.2.106"},"task":{"id":"b0ce7256-7898-45d3-9cb5-176b752bfea6","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"Install project dependencies (dotnet restore)","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"restore","publishWebProjects":"true","projects":"**/*.csproj\n**/**/*.csproj","custom":"","arguments":"","restoreArguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"config","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"NuGetVSTS.config","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Normal","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""},"task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Use Node >=12.x","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"versionSpec":">=12.x","checkLatest":"false"},"task":{"id":"31c75bbb-bcdf-4706-8d7c-4da6a1959bc2","versionSpec":"0.*","definitionType":"task"}},{"environment":{},"displayName":"Run npm install","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"script":"npm install","workingDirectory":"GenderPayGap.WebUI","failOnStderr":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Build JS and SCSS code","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"script":"npm run build","workingDirectory":"GenderPayGap.WebUI","failOnStderr":"false"},"task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Run unit tests","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"test","publishWebProjects":"true","projects":"GenderPayGap.UnitTests\\GenderPayGap.BusinessLogic.Tests\\GenderPayGap.BusinessLogic.Tests.csproj\nGenderPayGap.Core.Tests\\GenderPayGap.Core.Tests.csproj\nGenderPayGap.Database.Tests\\GenderPayGap.Database.Tests.csproj\nGenderPayGap.UnitTests\\GenderPayGap.WebJob.Tests\\GenderPayGap.WebJob.Tests.csproj\nGenderPayGap.UnitTests\\GenderPayGap.WebUI.Tests\\GenderPayGap.WebUI.Tests.csproj","custom":"","arguments":"/p:Configuration=$(BuildConfiguration)","restoreArguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""},"task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Run integration tests","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"test","publishWebProjects":"true","projects":"GenderPayGap.Integration.Tests\\GenderPayGap.Integration.Tests\\GenderPayGap.Integration.Tests.csproj","custom":"","arguments":"/p:Configuration=$(BuildConfiguration)","restoreArguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"true","modifyOutputPath":"true","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""},"task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Publish artifacts","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"publish","publishWebProjects":"false","projects":"GenderPayGap.WebUI/GenderPayGap.WebUI.csproj\nGenderPayGap.IdentityServer4/GenderPayGap.IdentityServer4.csproj\n","custom":"","arguments":"/p:PackageAsSingleFile=true /p:WebPublishMethod=Package /p:PublishProfile=Default -p:Configuration=$(BuildConfiguration)","restoreArguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"false","modifyOutputPath":"false","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""},"task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Build WarmUp script","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"command":"build","publishWebProjects":"false","projects":"WarmUp/WarmUp.csproj\n","custom":"","arguments":"-p:Configuration=$(BuildConfiguration)","restoreArguments":"","publishTestResults":"true","testRunTitle":"","zipAfterPublish":"false","modifyOutputPath":"false","selectOrConfig":"select","feedRestore":"","includeNuGetOrg":"true","nugetConfigPath":"","externalEndpoints":"","noCache":"false","packagesDirectory":"","verbosityRestore":"Detailed","searchPatternPush":"$(Build.ArtifactStagingDirectory)/*.nupkg","nuGetFeedType":"internal","feedPublish":"","publishPackageMetadata":"true","externalEndpoint":"","searchPatternPack":"**/*.csproj","configurationToPack":"$(BuildConfiguration)","outputDir":"$(Build.ArtifactStagingDirectory)","nobuild":"false","includesymbols":"false","includesource":"false","versioningScheme":"off","versionEnvVar":"","requestedMajorVersion":"1","requestedMinorVersion":"0","requestedPatchVersion":"0","buildProperties":"","verbosityPack":"Detailed","workingDirectory":""},"task":{"id":"5541a522-603c-47ad-91fc-a4b1d163081b","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Archive built WarmUp script","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"rootFolderOrFile":"$(PackagePath_WarmUp)","includeRootFolder":"true","archiveType":"zip","sevenZipCompression":"5","tarCompression":"gz","archiveFile":"WarmUp.zip","replaceExistingArchive":"true","verbose":"false","quiet":"false"},"task":{"id":"d8b84976-e99a-4b86-b885-4849694435b0","versionSpec":"2.*","definitionType":"task"}},{"environment":{},"displayName":"Publish WebUI Artifacts","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"PathtoPublish":"$(PackagePath_WebUi)","ArtifactName":"WebUI Artifacts","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8","FileCopyOptions":""},"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Publish IdentityServer Artifacts","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"PathtoPublish":"$(PackagePath_IdentityServer)","ArtifactName":"IdentityServer Artifacts","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8","FileCopyOptions":""},"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Publish WarmUp Artifacts","alwaysRun":false,"continueOnError":false,"condition":"succeeded()","enabled":true,"timeoutInMinutes":0,"inputs":{"PathtoPublish":"WarmUp.zip","ArtifactName":"WarmUp Artifacts","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8","FileCopyOptions":""},"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"}},{"environment":{},"displayName":"Tag Git with build number (master branch only)","alwaysRun":false,"continueOnError":false,"condition":"and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/master'))","enabled":true,"timeoutInMinutes":0,"inputs":{"githubEndpoint":"0ef95414-5f9f-4eba-8e9e-7019476dbbb6","repositoryName":"$(Build.Repository.Name)","tag":"Build_$(Build.BuildNumber)"},"task":{"id":"ee9bfef8-23d5-460f-8147-9f2ed18828f4","versionSpec":"1.*","definitionType":"task"}}],"runsOn":["Agent"],"revision":1,"createdBy":{"displayName":"Aida Younesi","id":"ebe33c6c-272d-4e08-b143-bfaa6fccc9fe","uniqueName":"Aida.Younesi@softwire.com"},"createdOn":"2020-02-07T15:45:40.010Z","modifiedBy":{"displayName":"Aida Younesi","id":"ebe33c6c-272d-4e08-b143-bfaa6fccc9fe","uniqueName":"Aida.Younesi@softwire.com"},"modifiedOn":"2020-02-07T15:45:40.010Z","id":"cdba4d76-46fc-4f31-bbc7-01961d703ba2","name":"Build all branches","version":{"major":1,"minor":0,"patch":0,"isTest":false},"iconUrl":"https://cdn.vsassets.io/v/M164_20200204.2/_content/icon-meta-task.png","friendlyName":"Build all branches","description":"","category":"Build","definitionType":"metaTask","author":"Aida Younesi","demands":[],"groups":[],"inputs":[{"aliases":[],"options":{},"properties":{},"name":"BuildConfiguration","label":"BuildConfiguration","defaultValue":"$(BuildConfiguration)","required":true,"type":"string","helpMarkDown":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"PackagePath_IdentityServer","label":"PackagePath_IdentityServer","defaultValue":"GenderPayGap.IdentityServer4\\bin\\$(BuildConfiguration)\\netcoreapp2.2\\GenderPayGap.IdentityServer4.zip","required":true,"type":"filePath","helpMarkDown":"The folder or file path to publish. This can be a fully-qualified path or a path relative to the root of the repository. Wildcards are not supported. [Variables](https://go.microsoft.com/fwlink/?LinkID=550988) are supported. Example: $(Build.ArtifactStagingDirectory)","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"PackagePath_WarmUp","label":"PackagePath_WarmUp","defaultValue":"WarmUp\\bin\\$(BuildConfiguration)\\netcoreapp2.2\\","required":true,"type":"filePath","helpMarkDown":"Enter the root folder or file path to add to the archive. If a folder, everything under the folder will be added to the resulting archive.","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"PackagePath_WebUi","label":"PackagePath_WebUi","defaultValue":"GenderPayGap.WebUI\\bin\\$(BuildConfiguration)\\netcoreapp2.2\\GenderPayGap.WebUI.zip","required":true,"type":"filePath","helpMarkDown":"The folder or file path to publish. This can be a fully-qualified path or a path relative to the root of the repository. Wildcards are not supported. [Variables](https://go.microsoft.com/fwlink/?LinkID=550988) are supported. Example: $(Build.ArtifactStagingDirectory)","groupName":""}],"satisfies":[],"sourceDefinitions":[],"dataSourceBindings":[],"instanceNameFormat":"Task group: Build all branches $(BuildConfiguration)","preJobExecution":{},"execution":{},"postJobExecution":{}}
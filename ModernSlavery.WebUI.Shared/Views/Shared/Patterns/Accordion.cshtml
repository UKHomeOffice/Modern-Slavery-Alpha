@model Accordion
<div class="js-accordion-with-descriptions" data-module="accordion-with-descriptions">
    <div class="subsection-wrapper">
        @{
            var index = 0;
        }
        @foreach (var section in Model.Sections)
        {
            var id = section.Id + index;
            <div class="js-subsection subsection">
                <div class="subsection__header">
                    <h2 class="subsection__title" id="@(section.Id)">
                        <button class="subsection__button js-subsection-button" aria-expanded="false" aria-controls="subsection_content_@(id)">@(section.Title)</button>
                    </h2>
                    @if (string.IsNullOrWhiteSpace(section.Description) == false)
                    {
                        <p class="subsection__description">@(section.Description)</p>
                    }
                </div>
                <div class="subsection__content js-subsection-content js-hidden" id="subsection_content_@(id)">
                    @if (section.HtmlContent != null)
                    {
                        @(section.HtmlContent)
                    }
                    else
                    {
                        <partial name="@(section.Partial)"/>
                    }
                </div>
            </div>
            index++;
        }
    </div>
</div>